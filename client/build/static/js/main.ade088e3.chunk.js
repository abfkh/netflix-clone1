(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[0],{43:function(e,t,c){},45:function(e,t,c){},47:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(24),r=c.n(a),i=(c(43),c(5)),o=c.n(i),l=c(15),j=c(3),u=(c(45),c(90)),b=c(91),d=c(92),O=c(6),h=function(e){return{type:"LOGIN_SUCCESS",payload:e}},p=c(37),x=function(e,t){switch(console.log(t.type),t.type){case"LOGIN_START":return console.log("im in start"),{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return console.log("im in success"),console.log("action: ",t),{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return console.log("im in failure"),{user:null,isFetching:!1,error:!0};case"LOGOUT":return{user:null,isFetching:!1,error:!1};default:return console.log("im in default"),Object(p.a)({},e)}},m=c(0),f={user:JSON.parse(localStorage.getItem("user"))||null,isFetching:!1,error:!1},v=Object(s.createContext)(f),g=function(e){var t=e.children,c=Object(s.useReducer)(x,f),n=Object(j.a)(c,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){console.log(a.user),localStorage.setItem("user",JSON.stringify(a.user))}),[a.user]),console.log("state: ",a),Object(m.jsx)(v.Provider,{value:{user:a.user,isFetching:a.isFetching,error:a.error,dispatch:r},children:t})},N=(c(47),function(){var e=Object(s.useState)(!1),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useContext)(v),r=(a.user,a.dispatch);return window.onscroll=function(){return n(0!==window.pageYOffset),function(){return window.onscroll=null}},Object(m.jsx)("div",{className:c?"navbar scrolled":"navbar",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsxs)("div",{className:"left",children:[Object(m.jsx)("img",{src:"https://www.freepnglogos.com/uploads/netflix-logo-text-emblem-31.png",alt:""}),Object(m.jsx)(O.b,{to:"/",className:"link",children:Object(m.jsx)("span",{children:"Home page"})}),Object(m.jsx)(O.b,{to:"/series",className:"link",children:Object(m.jsx)("span",{className:"navbarnainLinks",children:"Series"})}),Object(m.jsx)(O.b,{to:"/movies",className:"link",children:Object(m.jsx)("span",{className:"navbarnainLinks",children:"Movies"})}),Object(m.jsx)("span",{children:"New and Pouplar"}),Object(m.jsx)("span",{children:"My list"})]}),Object(m.jsxs)("div",{className:"right",children:[Object(m.jsx)(u.a,{className:"icon"}),Object(m.jsx)("span",{children:"You"}),Object(m.jsx)("img",{src:"https://ih0.redbubble.net/image.618427277.3222/flat,1000x1000,075,f.u2.jpg",alt:""}),Object(m.jsx)(b.a,{className:"icon"}),Object(m.jsxs)("div",{className:"profile",children:[Object(m.jsx)(d.a,{className:"icon"}),Object(m.jsxs)("div",{className:"options",children:[Object(m.jsx)("span",{children:"Setting"}),Object(m.jsx)("span",{onClick:function(){return r({type:"LOGOUT"})},children:"Logout"})]})]})]})]})})}),y=c(93),w=c(94),k=c(16),S=c.n(k);c(70);var C=function(e){var t=e.type1,c=Object(s.useState)({}),n=Object(j.a)(c,2),a=n[0],r=n[1],i=Object(s.useContext)(v),u=i.user;return i.dispatch,Object(s.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("https://abfkh-netflix-api.herokuapp.com/api/movies/random?type=".concat(t),{headers:{token:"Bearer ".concat(u.accessToken)}});case 3:c=e.sent,console.log("ffreferferferferferferferfref",c),r(c.data[0]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e(),console.log("content: \n",a)}),[t]),Object(m.jsxs)("div",{className:"featured",children:[t&&Object(m.jsxs)("div",{className:"category",children:[Object(m.jsx)("span",{children:"movies"===t?"Movies":"Series"}),Object(m.jsxs)("select",{name:"genre",id:"genre",children:[Object(m.jsx)("option",{children:"Genre"}),Object(m.jsx)("option",{value:"adventure",children:"Adventure"}),Object(m.jsx)("option",{value:"comedy",children:"Comedy"}),Object(m.jsx)("option",{value:"crime",children:"Crime"}),Object(m.jsx)("option",{value:"fantasy",children:"Fantasy"}),Object(m.jsx)("option",{value:"historical",children:"Historical"}),Object(m.jsx)("option",{value:"horror",children:"Horror"}),Object(m.jsx)("option",{value:"romance",children:"Romance"}),Object(m.jsx)("option",{value:"sci-fi",children:"Sci-fi"}),Object(m.jsx)("option",{value:"thriller",children:"Thriller"}),Object(m.jsx)("option",{value:"western",children:"Western"}),Object(m.jsx)("option",{value:"animation",children:"Animation"}),Object(m.jsx)("option",{value:"drama",children:"Drama"}),Object(m.jsx)("option",{value:"documentary",children:"Documentary"})]})]}),Object(m.jsx)("img",{src:a.img,alt:""}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsx)("img",{src:a.imgTitle,alt:""}),Object(m.jsx)("span",{className:"desc",children:a.desc}),Object(m.jsxs)("div",{className:"button",children:[Object(m.jsx)(O.b,{style:{textDecoration:"none"},to:{pathname:"/watch",movie:a},children:Object(m.jsxs)("button",{className:"play",children:[Object(m.jsx)(y.a,{}),Object(m.jsx)("span",{children:"paly"})]})}),Object(m.jsxs)("button",{className:"more",children:[Object(m.jsx)(w.a,{}),Object(m.jsx)("span",{children:"info"})]})]})]}),Object(m.jsx)("div",{class:"banner--fedeBottom"})]})},I=c(98),L=c(99),T=(c(71),c(95)),R=c(96),E=c(97);c(72),c(73);var F=function(e){var t=e.index,c=e.item,n=Object(s.useContext)(v).user,a=Object(s.useState)(!1),r=Object(j.a)(a,2),i=r[0],u=r[1],b=Object(s.useState)({}),d=Object(j.a)(b,2),h=d[0],p=d[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("https://abfkh-netflix-api.herokuapp.com/api/movies/find/"+c,{headers:{token:"Bearer ".concat(n.accessToken)}});case 3:t=e.sent,p(t.data),console.log(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[c]),Object(m.jsx)(O.b,{to:{pathname:"/watch",movie:h},children:Object(m.jsxs)("div",{className:"listItem",style:{left:i&&225*t-50+2.5*t},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},children:[Object(m.jsx)("img",{src:h&&h.img?h.img:"",alt:""}),i&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("video",{className:"video",autoPlay:!0,onProgress:!0,src:h?h.trailer:""}),Object(m.jsxs)("div",{className:"itemInfo",children:[Object(m.jsxs)("div",{className:"icons",children:[Object(m.jsx)(y.a,{className:"icon"}),Object(m.jsx)(T.a,{className:"icon"}),Object(m.jsx)(R.a,{className:"icon"}),Object(m.jsx)(E.a,{className:"icon"})]}),Object(m.jsxs)("div",{className:"itemInfoTop",children:[Object(m.jsx)("span",{children:h?h.duration:""}),Object(m.jsx)("span",{className:"limit",children:h?h.limit:""}),Object(m.jsx)("span",{children:h?h.year:""})]}),Object(m.jsx)("div",{className:"desc",children:h?h.desc:""}),Object(m.jsx)("div",{className:"genre",children:h?h.genre:""})]})]})]})})};var G=function(e){var t=e.list,c=Object(s.useState)(!1),n=Object(j.a)(c,2),a=n[0],r=n[1],i=Object(s.useState)(0),o=Object(j.a)(i,2),l=o[0],u=o[1],b=Object(s.useState)(window.innerWidth/230),d=Object(j.a)(b,2),O=d[0],h=(d[1],Object(s.useRef)()),p=function(e){r(!0);var t=h.current.getBoundingClientRect().x-50;"left"===e&&l>0&&(u(l-1),h.current.style.transform="translateX(".concat(230+t,"px)")),"right"===e&&l<10-O&&(u(l+1),h.current.style.transform="translateX(".concat(-230+t,"px)")),console.log(t)};return Object(m.jsxs)("div",{className:"list",children:[Object(m.jsx)("span",{className:"listTitle",children:t.title}),Object(m.jsxs)("div",{className:"wrapper",children:[Object(m.jsx)(I.a,{className:"sliderArrow Left",onClick:function(){return p("left")},style:{display:!a&&"none"}}),Object(m.jsx)("div",{className:"container",ref:h,children:t.content.map((function(e,t){return Object(m.jsx)(F,{index:t,item:e})}))}),Object(m.jsx)(L.a,{className:"sliderArrow Right",onClick:function(){return p("right")}})]})]})},A=function(e){var t=e.type,c=Object(s.useState)([]),n=Object(j.a)(c,2),a=n[0],r=n[1],i=Object(s.useState)([null]),u=Object(j.a)(i,2),b=u[0],d=(u[1],Object(s.useContext)(v)),O=d.user;d.dispatch;return Object(s.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("https://abfkh-netflix-api.herokuapp.com/api/lists".concat(t?"?type"+t:"").concat(b?"&genre="+b:""),{headers:{token:"Bearer ".concat(O.accessToken)}});case 3:c=e.sent,console.log(c),r(c.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,b]),Object(m.jsxs)("div",{className:"home",children:[Object(m.jsx)(N,{}),Object(m.jsx)(C,{type:t}),a.map((function(e){return Object(m.jsx)(G,{list:e})}))]})},B=(c(75),c(17)),P=function(){var e=Object(l.a)(o.a.mark((function e(t,c){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"LOGIN_START"}),e.prev=1,e.next=4,S.a.post("https://abfkh-netflix-api.herokuapp.com/api/auth/login",t);case 4:s=e.sent,console.log("login res: ",s),c(h(s.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c({type:"LOGIN_FAILURE"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,c){return e.apply(this,arguments)}}();c(76);var U=function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(j.a)(a,2),i=r[0],o=r[1],l=Object(s.useContext)(v).dispatch;return Object(m.jsxs)("div",{className:"login",children:[Object(m.jsx)("div",{className:"top",children:Object(m.jsx)("div",{className:"wrapper",children:Object(m.jsx)("img",{className:"logo",src:"https://www.freepnglogos.com/uploads/netflix-logo-text-emblem-31.png",alt:""})})}),Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("form",{children:[Object(m.jsx)("h1",{children:"Sign In"}),Object(m.jsx)("input",{type:"email",placeholder:"Email or phone number",onChange:function(e){return n(e.target.value)}}),Object(m.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){return o(e.target.value)}}),Object(m.jsx)("button",{className:"loginButton",onClick:function(e){e.preventDefault(),P({email:c,password:i},l)},children:"Sign In"}),Object(m.jsxs)("span",{children:["New to Netflix ",Object(m.jsx)("b",{children:"sign up now."})]}),Object(m.jsxs)("small",{children:["This page is protected by Google reCAPTCHA to ensure you're not a bot ",Object(m.jsx)("b",{children:"learn more"})]})]})})]})};var D=function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(j.a)(a,2),i=r[0],u=r[1],b=Object(s.useState)(""),d=Object(j.a)(b,2),h=d[0],p=d[1],x=Object(B.g)(),f=Object(s.useRef)(),v=Object(s.useRef)(),g=Object(s.useRef)(),N=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),u(v.current.value),p(g.current.value),e.prev=3,console.log("user",h,"email",c,"pass",i),e.next=7,S.a.post("https://abfkh-netflix-api.herokuapp.com/api/auth/register",{username:h,email:c,password:i});case 7:x.push("/login"),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"register",children:[Object(m.jsx)("div",{className:"top",children:Object(m.jsxs)("div",{className:"wrapper",children:[Object(m.jsx)("img",{className:"logo",src:"https://www.freepnglogos.com/uploads/netflix-logo-text-emblem-31.png",alt:""}),Object(m.jsx)(O.b,{style:{textDecoration:"none",zIndex:2},to:{pathname:"/login",Login:U},children:Object(m.jsx)("button",{type:"button",className:"ccc",children:Object(m.jsx)("span",{children:"Sign In"})})})]})}),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h1",{children:"Unlimited movies, TV shows, and more"}),Object(m.jsx)("h2",{children:"Watch anywhere = Cancel anytime."}),Object(m.jsx)("p",{children:"Ready to Watch ? Enter your email to create or restart yout membership"}),c?Object(m.jsxs)("form",{className:"input",children:[Object(m.jsx)("input",{type:"username",placeholder:"username",ref:g}),Object(m.jsx)("input",{type:"password",placeholder:"password",ref:v}),Object(m.jsx)("button",{className:"resgisterButton",onClick:N,children:"Start"})]}):Object(m.jsxs)("div",{className:"input",children:[Object(m.jsx)("input",{type:"email",placeholder:"emsil addres",ref:f}),Object(m.jsx)("button",{className:"resgisterButton",onClick:function(){n(f.current.value)},children:"Get started"})]})]})]})},_=c(100);c(77);var H=function(){var e=Object(B.h)();console.log(e);var t=e.movie;return Object(m.jsxs)("div",{className:"watch",children:[Object(m.jsx)(O.b,{to:"/series",children:Object(m.jsxs)("div",{className:"back",children:[Object(m.jsx)(_.a,{}),"Home"]})}),Object(m.jsx)("video",{style:{color:"white"},className:"video",autoPlay:!0,onProgress:!0,controls:!0,src:t.video})]})},M=function(){var e=Object(s.useContext)(v).user;return Object(m.jsx)(O.a,{children:Object(m.jsxs)(B.d,{children:[Object(m.jsx)(B.b,{exact:!0,path:"/",children:e?Object(m.jsx)(A,{type:"series"}):Object(m.jsx)(B.a,{to:"register"})}),Object(m.jsx)(B.b,{exact:!0,path:"/register",children:e?Object(m.jsx)(B.a,{to:"/"}):Object(m.jsx)(D,{})}),Object(m.jsx)(B.b,{exact:!0,path:"/login",children:e?Object(m.jsx)(B.a,{to:"/"}):Object(m.jsx)(U,{})}),e&&Object(m.jsx)(B.b,{path:"/movies",children:Object(m.jsx)(A,{type:"movies"})}),e&&Object(m.jsx)(B.b,{path:"/series",children:Object(m.jsx)(A,{type:"series"})}),e&&Object(m.jsx)(B.b,{path:"/watch",children:Object(m.jsx)(H,{})})]})})};r.a.render(Object(m.jsx)(n.a.Fragment,{children:Object(m.jsx)(g,{children:Object(m.jsx)(M,{})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.ade088e3.chunk.js.map